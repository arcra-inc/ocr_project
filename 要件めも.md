## 🧾（1）帳票用OCR機能付きPythonプログラム作成【その1】

**目的：**

帳票画像をOCRで読み取り、区分けしたフィールドごとにJSONとして出力する。

AIは使用せず、オープンソース技術（OpenCV・Tesseract・正規表現）のみを利用。

**仕様概要：**

- **動作環境**：Windows、Python 3.11（仮想環境で開発OK）
- **処理の流れ：**
    1. OpenCVによる傾き補正
    2. TesseractによるOCR文字認識
    3. 正規表現でフィールド分割
    4. JSON形式で出力
- **構成ディレクトリ：**
    
    ```
    test_ocr_for_doc1/
      ├─ main.py（エントリポイント）
      ├─ documents/
      │   ├─ readme.md（環境構築手順、pipインストール手順含む）
      │   └─ images/（サンプル帳票画像）
    
    ```
    

**背景：**

以前の「TrafficSignSystem」ではAWS系AI OCRを提案されたが、

・コストが高い

・AI挙動の不透明さ

が課題であり、AIを使わずシンプルなOCRをまず試したい。

品質確認と技術力評価を目的とするテスト案件。

| 作業項目 | 内容 | 工数目安 |
| --- | --- | --- |
| 要件整理・設計 | 入出力フォーマット設計、帳票パターン確認、仕様まとめ | 含まず |
| 開発環境構築 | 仮想環境、Tesseract導入、OpenCV動作確認 | 0.5日 |
| OCR処理実装 | 傾き補正 → OCR → JSON出力まで一連動作 | 2日 |
| 正規表現抽出ロジック | サンプル帳票に合わせたパターン設計・テスト | 1日 |
| README / ドキュメント作成 | Markdown形式のセットアップ手順書 | 0.5日 |
| デバッグ・テスト | 数枚の帳票で確認 | 1日 |
|  |  |  |

合計：約6人日（1週間前後）

---

## 🔍（2）帳票用OCR機能付きPythonプログラム作成【その2】

**目的：**

上記(1)をベースに、**Google Vision OCR**などの有料OCRを組み合わせたハイブリッド型を作成。

TesseractでNGとなるケースのみ他エンジンを併用。

**特徴・条件：**

- **Google Vision OCR**を使用（ローカルPCから呼び出し可能で、サーバ構築不要）
- 精度評価は発注側では行わず、**開発側の意見・今後の提案**を納品物に含める
- 納品後、**ミーティング2回分を工数に含む**

| 作業項目 | 内容 | 工数目安 |
| --- | --- | --- |
| 仕様再整理 | APIキー・利用条件の確認、Google Vision OCR呼び出し方式決定 | 含めず |
| OCR統合実装 | Vision API呼び出し＋Tesseract結果との判定 | 2日 |
| 精度比較・例外処理 | Tesseract NG判定条件、リトライ設計など | 1日 |
| 設定・ログ出力強化 | OCR切替状況のログ化 | 0.5日 |
| README更新 | APIキー登録方法など追記 | 0.5日 |
| 成果報告資料作成 | 改善提案や次ステップ提案をまとめ | 1日 |
| MTG費用 | 2回分 | 1日 |

**合計：約6人日（1〜1.5週間）**

- アーカイブ
    
    ## 🎥（3）スマホ撮影の高速道路動画解析
    
    **目的：**
    
    ダッシュボード上の走行動画を解析するプログラムの再稼働と検証。
    
    標識認識などを含む可能性があるが、現時点では**解析と稼働確認が主目的**。
    
    **条件・内容：**
    
    - サンプル動画は1本（今後数本追加の可能性）
    - 既存システムの再動作に必要な工数＋解析工数を見積もり
    - **結果に対する合否評価は発注側で行わない**
    - マイメディアの案件
    - 解析結果に基づく**考察・ビジョン整理・ミーティング2回**を含める
    
    | 作業項目 | 内容 | 工数目安 |
    | --- | --- | --- |
    | 動作テスト・修正 | サンプル動画で解析実行・結果確認 | 4日 |
    | 解析結果まとめ | 出力データの分析、改善案の提案 | 1日 |
    | ミーティング対応 | 打合せ×2回（準備含む） | 1日 |
    
    **合計：約6人日（1〜1.5週間）**
    
    # 見積もり提出時のチェックリスト（実務向け）
    
    1. **対象と前提**
        - 帳票の版式数／レイアウト固定度、入力画像の条件（スキャン／スマホ、解像度、縦横）。
        - 動画の本数・尺・撮影条件（昼夜、手ぶれ、逆光）。
    2. **スコープIN/OUT（明確化）**
        - IN：傾き/台形補正・OCR・正規表現抽出・JSON出力・テンプレ駆動・ログ・README。
        - OUT：大量レイアウト対応、住所正規化辞書、手入力補助UI、RPA連携、恒常運用サポート等（別見積）。
    3. **成果物（検収対象）**
        - ソース一式、テンプレ/設定、JSONスキーマ、実行手順書、サンプル実行ログ／中間生成物（デバッグ画像）、簡易レポート。
    4. **受入基準（KPI）**
        - 例：必須項目の抽出完全一致率、欠落率、金額整合率、処理時間／枚、動画の完走可否とFPS下限。
        - 合否の判定母数（検証枚数・動画本数）を明記。
    5. **データ提供条件**
        - 代表的な帳票10–20枚、動画1本（将来拡張は別途）。匿名化の要否。
    6. **環境要件**
        - Windows＋Python3.11、Tesseractの導入方法、言語データ（`jpn`/`jpn_vert`）、GPU不要の前提など。
    7. **セキュリティ／個人情報**
        - ハイブリッド時の**クラウド送信範囲最小化**（必要ROIのみ）とマスキング方針、ログのマスキング。
    8. **工程と体制・ミーティング回数**
        - 各案件2回まで含む／追加は有償。担当人数とレビュー体制。
    9. **工数内訳と単価**
        - WBSと人日。単価・下限ロットの有無。
    10. **費用に含む／含まない**
        - **含まない**：Google Vision等のAPI利用料、データ匿名化作業、外部辞書購入、出張旅費。
    11. **変更管理（スコープ増）**
        - 版式追加・NG判定ルール強化・動画追加の課金ルール（例：版式1件=○万円）。
    12. **リスクと前提条件**
        - スマホ撮影品質による精度劣化、縦書き混在、罫線干渉、夜間映像など。
    13. **検収・支払条件**
        - 検収基準、支払サイト、マイルストン（着手／中間レビュー／納品）。
    14. **知財・利用許諾**
        - 納品コードの権利、再利用可否、第三者OSSのライセンス明記。
    15. **保守／サポート**
        - 納品後のQA期間・バグ修正の扱い（例：納品後2週間の軽微不具合無償）。